// Generated by Selenium IDE
const { Builder, By, Key, until } = require('selenium-webdriver')
const assert = require('assert')

describe('007_addTestThenModifyTestThenDeleteTest', function() {
  this.timeout(30000)
  let driver
  let vars
  beforeEach(async function() {
    driver = await new Builder().forBrowser('firefox').build()
    vars = {}
  })
  afterEach(async function() {
    await driver.quit();
  })
  it('007_addTestThenModifyTestThenDeleteTest', async function() {
    await driver.get("http://localhost:3000/")
    await driver.findElement(By.linkText("Sign In")).click()
    await driver.findElement(By.id("username")).sendKeys("Test")
    await driver.findElement(By.id("password")).sendKeys("test")
    await driver.findElement(By.id("password")).sendKeys(Key.ENTER)
    await driver.findElement(By.linkText("Details")).click()
    await driver.findElement(By.linkText("Tests")).click()
    await driver.findElement(By.linkText("Add Test")).click()
    await driver.findElement(By.id("testName")).click()
    await driver.findElement(By.id("testName")).sendKeys("Test1")
    await driver.findElement(By.id("headingAddTest")).click()
    await driver.findElement(By.id("testDescription")).click()
    await driver.findElement(By.id("testDescription")).sendKeys("un test")
    await driver.findElement(By.id("addNewTest")).click()
    await driver.findElement(By.id("testResultExpected")).click()
    await driver.findElement(By.id("testResultExpected")).sendKeys("jtyhtgrghyjèuhtdbfhryhtf2gb3435456h4y65yr")
    await driver.findElement(By.id("testLastVersionValidated")).click()
    await driver.findElement(By.id("testLastVersionValidated")).sendKeys("324")
    await driver.findElement(By.css(".list-group-item:nth-child(1)")).click()
    await driver.findElement(By.css(".list-inline-item:nth-child(1) > .custom-control")).click()
    await driver.findElement(By.css(".list-inline-item:nth-child(1) .custom-control-label")).click()
    await driver.findElement(By.css(".list-inline-item:nth-child(2) .custom-control-label")).click()
    await driver.findElement(By.css(".float-right")).click()
    await driver.findElement(By.linkText("Add Test")).click()
    await driver.findElement(By.id("headingAddTest")).click()
    await driver.findElement(By.id("testName")).click()
    await driver.findElement(By.id("testName")).sendKeys("Test2")
    await driver.findElement(By.id("testDescription")).click()
    await driver.findElement(By.id("testDescription")).sendKeys("hythjyrfhtrhr")
    await driver.findElement(By.id("testResultExpected")).click()
    await driver.findElement(By.id("testResultExpected")).sendKeys("3546468gtrgrds")
    await driver.findElement(By.id("testLastVersionValidated")).click()
    await driver.findElement(By.id("testLastVersionValidated")).sendKeys("365")
    await driver.findElement(By.css(".list-inline-item:nth-child(2) .custom-control-label")).click()
    await driver.findElement(By.css(".float-right:nth-child(1)")).click()
    await driver.findElement(By.linkText("Add Test")).click()
    await driver.findElement(By.id("testName")).click()
    await driver.findElement(By.id("testName")).sendKeys("Test3")
    await driver.findElement(By.id("testDescription")).click()
    await driver.findElement(By.id("testDescription")).click()
    {
      const element = await driver.findElement(By.id("testDescription"))
      await driver.actions({ bridge: true}).doubleClick(element).perform()
    }
    await driver.findElement(By.id("testDescription")).sendKeys("hyrrhtrtrh35446gf3bgf3f")
    await driver.findElement(By.css(".col-form-label:nth-child(5)")).click()
    await driver.findElement(By.id("testResultExpected")).click()
    await driver.findElement(By.id("testResultExpected")).sendKeys("hb5hf35fh")
    await driver.findElement(By.id("testLastVersionValidated")).click()
    await driver.findElement(By.id("testLastVersionValidated")).sendKeys("335")
    await driver.findElement(By.css(".float-right:nth-child(1)")).click()
    await driver.findElement(By.linkText("Test1")).click()
    await driver.findElement(By.linkText("Passed")).click()
    await driver.findElement(By.linkText("Test2")).click()
    await driver.findElement(By.linkText("Failed")).click()
    await driver.findElement(By.linkText("Test3")).click()
    await driver.findElement(By.linkText("Failed")).click()
    await driver.findElement(By.linkText("Test3")).click()
    await driver.findElement(By.linkText("To Implement")).click()
    await driver.findElement(By.linkText("Test2")).click()
    await driver.findElement(By.linkText("Passed")).click()
    await driver.findElement(By.linkText("Test1")).click()
    await driver.findElement(By.linkText("To Implement")).click()
    await driver.findElement(By.linkText("Test2")).click()
    await driver.findElement(By.linkText("Failed")).click()
    await driver.findElement(By.id("heading30")).click()
    await driver.findElement(By.linkText("Test3")).click()
    await driver.findElement(By.linkText("✎")).click()
    await driver.findElement(By.id("testName")).click()
    await driver.findElement(By.id("testName")).sendKeys("Test3 - bis")
    await driver.findElement(By.id("testDescription")).click()
    await driver.findElement(By.id("testDescription")).sendKeys("bis")
    await driver.findElement(By.id("testResult")).click()
    await driver.findElement(By.id("testResult")).sendKeys("bis")
    await driver.findElement(By.id("testValidVersion")).click()
    await driver.findElement(By.id("testValidVersion")).sendKeys("3351")
    await driver.findElement(By.css(".form-check:nth-child(15)")).click()
    await driver.findElement(By.id("passedState")).click()
    await driver.findElement(By.css(".list-inline-item:nth-child(2) .custom-control-label")).click()
    await driver.findElement(By.css(".list-group-item:nth-child(1)")).click()
    await driver.findElement(By.css(".list-inline-item:nth-child(1) .custom-control-label")).click()
    await driver.findElement(By.id("modifyTest")).click()
    await driver.findElement(By.linkText("Test3 - bis")).click()
    await driver.findElement(By.css("#collapse30 form > .btn")).click()
    assert(await driver.switchTo().alert().getText() == "Voulez-vous vraiment supprimer ce test ?")
    await driver.switchTo().alert().accept()
    await driver.findElement(By.css(".btn-outline-danger:nth-child(1)")).click()
    await driver.close()
  })
})
