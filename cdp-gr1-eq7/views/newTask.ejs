<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="../backend/newTask.js"></script>
    <meta name="author" content="gr1_eq7" />
    <title>Création d'une tâche</title>
</head>

  <body>
    <%- include ../views/partials/header.ejs %>
    <form action="/newTask?projectId=<%= projectId%>" method="post" id="new-task">
      <div class="form-group">
        <label for="taskName">Nom de la tache</label>
        <input
          type="text"
          class="form-control"
          id="taskName"
          name="taskName"
          placeholder="Nom de la tache"
        />
      </div>

      <div class="form-group">
        <label for="taskDescription">Description de la tache</label>
        <textarea
          type="text"
          class="form-control"
          id="taskDescription"
          name="taskDescription"
          placeholder="Description"
        ></textarea>
      </div>

      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          name="taskState"
          id="taskState1"
          name="taskState1"
          value="To Do"
        />
        <label class="form-check-label" for="taskState1">A faire</label>
      </div>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          name="taskState"
          id="taskState2"
          value="Doing"
        />
        <label class="form-check-label" for="taskState2">En cours</label>
      </div>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          name="taskState"
          id="taskState3"
          value="Done"
        />
        <label class="form-check-label" for="taskState3">Fait</label>
      </div>
      <div class="form-group">
        <label for="startDate">Date de début</label>
        <input class="form-control" type="date" id="startDate" name="startDate" />
      </div>
      <div class="form-group">
        <label for="taskDuration">Durée de la tache</label>
        <input
          type="number"
          class="form-control"
          id="taskDuration"
          name="taskDuration"
          placeholder="0"
        />
      </div>

      <div class="form-group">
        <label for="taskDoD">Definition of Done</label>
        <textarea
          type="text"
          class="form-control"
          id="taskDoD"
          name="taskDoD"
          placeholder="Definition of done"
        ></textarea>
      </div>

        <div class="form-group">
            <label for="taskMember">Affectation des membres</label>
            <select multiple class="form-control" id="taskMember" name="taskMember">
                <% listProjectMembers.forEach(member => { %>
                <%  %>
                    <option value="<%= member %>"> <%= member %></option>
                <% }); %>
            </select>
        </div>

        <div class="form-group">
            <label for="taskRequired">Taches pré-requises</label>
            <select multiple class="form-control" id="taskRequired" name="taskRequired">
                <% listProjectTasks.forEach(task => { %>
                    <option value="<%= task.taskId %>"><%= task.name %></option>
            <% }); %>
            </select>
        </div>

        <div class="form-group">
            <label for="taskIssue">Issues liées</label>
            <select multiple class="form-control" id="taskIssue" name="taskIssue">
                <% listIssues.forEach(issue => { %>
                    <option value="<%= issue.id%>"> <%= issue.name %></option>
            <% }); %>
            </select>
        </div>

      <button class="btn btn-primary" type="submit">Créer la tâche</button>
    </form>
  </body>
</html>
